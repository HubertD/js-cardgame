<html>
    <head>
        <style>
            * {padding: 0; margin: 0}
            @font-face {
                font-family: "Wizzta";
                src: url("wizzta-vada-webfont.woff2") format("woff2"),
                     url("wizzta-vada-webfont.woff") format("woff");
            }
        </style>

    </head>
    <body>
        <div style="font-family:Wizzta; font-size:100px"></div>
        <script src="pixi.min.js"></script>
        <script src="js/card.js"></script>
        <script src="js/carddeck.js"></script>
        <script src="js/player.js"></script>
        <script src="js/game.js"></script>

<script>

function easeCubicIn(t)
{
    return Math.pow(t,3);
}

function easeCubicInOut(t)
{
    if (t < 0.5)
    {
        return easeCubicIn(t*2.0)/2.0;
    }
    else
    {
        return 1 - easeCubicIn((1-t)*2)/2;
    }
 }

let game = null;

window.onload = function()
{
    PIXI.AbstractRenderer.autoDensity = true;
    let app = new PIXI.Application({});
    app.renderer.view.style.position = "absolute";
    app.renderer.view.style.display = "block";

    function resize()
    {
        let width = 1920;
        let height = 1080;
        let w = window.innerWidth;
        let h = window.innerHeight;
        let scale = Math.min(w/width, h/height)
        app.stage.scale.x = scale;
        app.stage.scale.y = scale;
        app.renderer.resize(w, h);
    }

    resize();
    window.addEventListener("resize", resize);

    app.renderer.backgroundColor = 0x222222;
    document.body.appendChild(app.view);
    document.body.appendChild(app.view);
    let loader = PIXI.Loader.shared;

    loader.add("mask", "deck/mask.png");
    loader.add("back", "deck/back1.jpg");

    for (let i = 0; i < 14; i++) {
        ["r", "g", "b", "y"].forEach(function (c) {
            let name = c + ((i < 10) ? "0" + i : i);
            loader.add(name, "deck/" + name + ".jpg");
        });
    }

    for (let i = 1; i < 5; i++) {
        loader.add("z" + i, "deck/z" + i + ".jpg");
        loader.add("n" + i, "deck/n" + i + ".jpg");
    }

    loader.load(function(loader, resources)
    {
        game = new Game(app.stage, resources);
        game.init(['Hubert', 'Struppi', 'Patrice', 'Steffi'], 5);
        game.show_cards(0, ["z3", "b04", "r08", "g12", "y13"]);
        game.play_card(0, 0, "y13");
        game.play_card(1, 0, "z1");
    });
};

</script>

    </body>
</html>